<div class="bg-white max-w-md w-full overflow-hidden">

  <!-- HEADER -->
  <div class="bg-[#3f51b5] px-6 py-5 flex items-center justify-between">
    <div>
      <h2 class="text-lg font-bold text-white">Customer Details</h2>
      <p class="text-xs text-indigo-100 mt-0.5">Booking Information</p>
    </div>
    <button (click)="close()"
      class="w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors"
      title="Close dialog">
      <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <!-- CONTENT -->
  <div class="p-5 space-y-4">

    <!-- CUSTOMER INFO CARD -->
    <div class="bg-slate-50 rounded-lg p-4 space-y-3 border border-slate-200">
      <!-- Name -->
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center flex-shrink-0">
          <svg class="w-6 h-6 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-xs font-semibold text-slate-500 uppercase">Name</p>
          <p class="text-sm font-semibold text-slate-900 truncate">{{ data.name }}</p>
        </div>
      </div>

      <div class="flex items-center justify-between gap-3 mt-2">
        <!-- PHONE INFO -->
        <div class="flex-1">
          <p class="text-xs font-semibold text-slate-500 uppercase">
            Phone
          </p>
          <p class="text-sm font-semibold text-slate-900">
            +91 {{ data.phone }}
          </p>
        </div>

        <!-- CALL NOW BUTTON -->
        <button (click)="callNow(data.phone)" class="flex items-center gap-2
           px-3 py-2
           rounded-lg
           bg-green-500 hover:bg-green-600
           text-white text-xs font-semibold
           transition active:scale-95">

          <!-- PHONE ICON -->
          <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2
           a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57
           a1 1 0 011 1V20a1 1 0 01-1 1
           C10.07 21 3 13.93 3 5
           a1 1 0 011-1h3.5
           a1 1 0 011 1c0 1.25.2 2.46.57 3.59
           a1 1 0 01-.25 1.01l-2.2 2.19z" />
          </svg>

          Call Now
        </button>
      </div>

    </div>

    <!-- LOCATION INFO CARD -->
    <div class="bg-slate-50 rounded-lg p-4 space-y-3 border border-slate-200">
      <!-- Pickup -->
      <div class="flex items-start gap-3">
        <div class="w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
          <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd"
              d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
              clip-rule="evenodd" />
          </svg>
        </div>
        <div class="flex-1">
          <p class="text-xs font-semibold text-slate-500 uppercase">Pickup Location</p>
          <p class="text-sm text-slate-900 leading-relaxed">{{ data.pickupAddress }}</p>
        </div>
      </div>

      <!-- Drop -->
      <div class="flex items-start gap-3 pt-3 border-t border-slate-200">
        <div class="w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0">
          <svg class="w-5 h-5 text-red-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd"
              d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
              clip-rule="evenodd" />
          </svg>
        </div>
        <div class="flex-1">
          <p class="text-xs font-semibold text-slate-500 uppercase">Drop Location</p>
          <p class="text-sm text-slate-900 leading-relaxed">{{ data.dropAddress }}</p>
        </div>
      </div>
    </div>

    <!-- BOOKING TIME CARD -->
    <div class="bg-slate-50 rounded-lg p-4 border border-slate-200">
      <div class="grid grid-cols-2 gap-4">
        <!-- Date -->
        <div class="flex items-center gap-2">
          <div class="w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
              fill="currentColor">

              <path d="M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1
       a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H5
       a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1V3
       a1 1 0 0 1 1-1zm12 7H5v10h14V9z" />
            </svg>

          </div>
          <div class="flex-1 min-w-0">
            <p class="text-xs font-semibold text-slate-500 uppercase">Date</p>
            <p class="text-sm font-semibold text-slate-900">
              {{ formatDate(data.date) }}
            </p>
          </div>
        </div>

        <!-- Time -->
        <div class="flex items-center gap-2">
          <div class="w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-purple-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
              fill="currentColor">

              <path d="M12 2a10 10 0 1 0 10 10
       A10.01 10.01 0 0 0 12 2zm1 10.41
       3.3 3.29a1 1 0 0 1-1.42 1.42
       l-3.59-3.59A1 1 0 0 1 11 12V7
       a1 1 0 0 1 2 0z" />
            </svg>

          </div>
          <div class="flex-1 min-w-0">
            <p class="text-xs font-semibold text-slate-500 uppercase">Time</p>
            <p class="text-sm font-semibold text-slate-900">
              {{ formatTime(data.time) }}
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- NOTE (if exists) -->
    @if (data.note) {
    <div class="bg-slate-50 rounded-lg p-4 border border-slate-200">
      <div class="flex items-start gap-3">
        <div class="w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center flex-shrink-0">
          <svg class="w-5 h-5 text-amber-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            fill="currentColor">

            <path d="M6 2a2 2 0 0 0-2 2v16
       a2 2 0 0 0 2 2h12
       a2 2 0 0 0 2-2V8
       l-6-6H6zm7 1.5L18.5 9H13
       a1 1 0 0 1-1-1V3.5zM8 11
       h8a1 1 0 1 1 0 2H8
       a1 1 0 1 1 0-2zm0 4
       h8a1 1 0 1 1 0 2H8
       a1 1 0 1 1 0-2z" />
          </svg>

        </div>
        <div class="flex-1">
          <p class="text-xs font-semibold text-slate-500 uppercase">Note</p>
          <p class="text-sm text-slate-900 mt-1">{{ data.note }}</p>
        </div>
      </div>
    </div>
    }

  </div>

  <!-- FOOTER -->
  <div class="bg-slate-50 px-6 py-4 border-t border-slate-200 flex w-full items-center justify-center">
    <button mat-raised-button (click)="close()" color="primary" class="w-full">
      Close
    </button>
  </div>

</div>