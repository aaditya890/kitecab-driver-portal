<div class="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-4">
  <div class="bg-white w-full max-w-sm rounded-2xl shadow-lg p-6 space-y-4">

    <!-- HEADER (TITLE + CLOSE) -->
    <div class="flex items-start justify-between">
      <div>
        <h2 class="text-2xl font-bold text-slate-900">
          Set Your Availability
        </h2>
        <p class="text-xs text-slate-600 mt-1">
          City & routes where you are available
        </p>
      </div>

       <!-- Close button integrated into header -->
      <button 
       (click)="backToDashboard()"
        class="bg-white rounded-full p-1.5 hover:bg-slate-100 transition flex-shrink-0">
        <svg class="w-4 h-4 text-slate-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    @if (error) {
      <div class="bg-red-100 text-red-700 p-2 rounded-lg text-xs">
        {{ error }}
      </div>
    }

    <!-- CURRENT CITY -->
    <form [formGroup]="cityForm" class="space-y-2">
      <label class="text-xs font-bold text-slate-600">Current City</label>
      <input
        type="text"
        formControlName="city"
        placeholder="Enter current city"
        class="w-full px-4 py-2 border border-slate-300 rounded-lg text-sm" />

      <button
        type="button"
        (click)="updateCity()"
        [disabled]="loading"
        class="w-full bg-black text-white py-2 rounded-lg text-sm font-bold">
        {{ loading ? 'Updating...' : 'Update City' }}
      </button>
    </form>
    <hr />

    <!-- AVAILABLE ROUTES -->
    <form [formGroup]="routeForm" class="space-y-2">
      <p class="text-xs font-bold text-slate-600">
        Available Routes (Optional)
      </p>

      <div class="flex gap-2">
        <input
          type="text"
          formControlName="from"
          placeholder="From"
          class="w-1/2 px-3 py-2 border rounded text-sm" />

        <input
          type="text"
          formControlName="to"
          placeholder="To"
          class="w-1/2 px-3 py-2 border rounded text-sm" />
      </div>

      <button
        type="button"
        (click)="addRoute()"
        [disabled]="routeForm.invalid"
        class="w-full bg-slate-900 text-white py-2 rounded text-sm font-bold">
        Add Route
      </button>
    </form>

    <!-- ROUTE LIST -->
    @if (routes.length > 0) {
      @for (r of routes; track $index) {
        <div class="flex items-center justify-between bg-slate-100 px-3 py-2 rounded text-sm">
          <span class="truncate">
            {{ r.from }} â†’ {{ r.to }}
          </span>
          <button
            (click)="removeRoute($index)"
            class="text-red-600 text-xs font-bold ml-2">
            Remove
          </button>
        </div>
      }
    }

  </div>
</div>
